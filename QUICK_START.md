# Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚: Knowledge Graph Embeddings

## ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹

### 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° PyKEEN

```bash
source venv/bin/activate
pip install pykeen
```

### 2. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ embeddings

```bash
python create_kg_embeddings_pykeen.py --epochs 100 --dim 64
```

**Ð’Ñ€ÐµÐ¼Ñ:** ~10-20 Ð¼Ð¸Ð½ÑƒÑ‚

**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:**
- Ð˜Ð·Ð²Ð»ÐµÐºÐ°ÑŽÑ‚ÑÑ Ñ‚Ñ€Ð¸Ð¿Ð»ÐµÑ‚Ñ‹ Ð¸Ð· Ð³Ñ€Ð°Ñ„Ð°
- ÐžÐ±ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ð¼Ð¾Ð´ÐµÐ»ÑŒ TransE
- Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÑŽÑ‚ÑÑ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°
- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ embeddings

### 3. Ð”ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

```bash
python test_pykeen_embeddings.py
```

**Ð§Ñ‚Ð¾ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚:**
- âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¼Ð¾Ð´ÐµÐ»Ð¸
- âœ… ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ ÑÐ²ÑÐ·ÐµÐ¹ (Link Prediction)
  - ÐŸÑ€Ð¸Ð¼ÐµÑ€: "ÐšÑ‚Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ ÑÑ‚Ð¾Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÑŒ?"
  - ÐŸÑ€Ð¸Ð¼ÐµÑ€: "ÐšÐ°ÐºÐ¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ BMW?"
- âœ… ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾Ñ…Ð¾Ð¶Ð¸Ñ… ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÐµÐ¹

## ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹

### Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:

```
ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°:
   MR (Mean Rank): 50-200 (Ñ‡ÐµÐ¼ Ð¼ÐµÐ½ÑŒÑˆÐµ, Ñ‚ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐµ)
   MRR: 0.1-0.5 (Ñ‡ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ, Ñ‚ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐµ)
   Hits@10: 0.2-0.6 (Ñ‡ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµ, Ñ‚ÐµÐ¼ Ð»ÑƒÑ‡ÑˆÐµ)

ðŸ” ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ: (BMW_3_Series_2016, MadeBy, ?)
   Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:
   1. BMW (score: 5.2) âœ… ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!
   2. Mercedes (score: -1.3)
   3. Audi (score: -2.1)
```

### ÐŸÐ»Ð¾Ñ…Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ (Ð½ÑƒÐ¶Ð½Ð° Ð¿ÐµÑ€ÐµÐ¾Ð±ÑƒÑ‡ÐºÐ°):

```
ðŸ“Š ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°:
   MR: > 1000
   MRR: < 0.01
   Hits@10: < 0.01

ðŸ” ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ: (BMW_3_Series_2016, MadeBy, ?)
   Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:
   1. Toyota (score: -18.5) âŒ ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾!
   2. Honda (score: -18.5) âŒ Ð’ÑÐµ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ðµ!
```

## Ð•ÑÐ»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

1. **PyKEEN Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½:**
   ```bash
   pip install pykeen
   ```

2. **ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ:**
   - Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ð»Ð¸ `create_kg_embeddings_pykeen.py`
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ñ `kg_embeddings_pykeen/` ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚

3. **ÐŸÐ»Ð¾Ñ…Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:**
   - ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð±Ð¾Ð»ÑŒÑˆÐµ ÑÐ¿Ð¾Ñ…: `--epochs 200`
   - ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ð¼Ð¾Ð´ÐµÐ»ÑŒ: `--model DistMult`
   - Ð£Ð²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð½Ð¾ÑÑ‚ÑŒ: `--dim 128`

## Ð’ÑÐµ Ð² Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ

```bash
python create_kg_embeddings_pykeen.py --epochs 100 --dim 64 && python test_pykeen_embeddings.py
```

